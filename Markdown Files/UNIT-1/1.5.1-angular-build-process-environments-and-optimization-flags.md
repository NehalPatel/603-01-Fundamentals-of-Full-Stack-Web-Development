---
unit: 1
topic: Angular build process, environments, and optimization flags
objectives: ["Understand the core ideas of Angular build process, environments, and optimization flags","Implement a working example related to Angular build process, environments, and optimization flags","Apply best practices and avoid common mistakes in Angular build process, environments, and optimization flags","Use Angular 17 patterns effectively"]
difficulty: Advanced
---

# Build Process, Environments, and Optimization Flags

## Learning Objectives

- Configure environments and build options
- Use optimization flags to reduce bundle size
- Enforce budgets and analyze output

## Overview

- Angular 17 builds with esbuild; configurations are defined in `angular.json`
- Environments store per-target variables

## Commands and Flags

```bash
ng build --configuration production
ng build --configuration staging
ng build --named-chunks --vendor-chunk=false
```

## Environments

```ts
export const environment = {
  production: true,
  api: 'https://api.example.com'
};
```

## Budgets (angular.json)

```json
{
  "budgets": [
    { "type": "initial", "maximum": "200kb" },
    { "type": "anyComponentStyle", "maximum": "6kb" }
  ]
}
```

## Practical Exercises

### Exercise

- Add a staging environment and build it
- Enable budgets and fix any violations

### Solution

```bash
ng g environments
ng build --configuration staging
```

## Diagram

```mermaid
flowchart LR
  Config --> Build --> Output
  Environments --> Config
```

## Troubleshooting & Pitfalls

- Keep environment values minimal and avoid secrets in client builds
- Use `--vendor-chunk=false` with care; measure impact
- Analyze bundles with community tools when needed

## References

- https://angular.dev/tools/cli
